<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta http-equiv="Content-Security-Policy" content="default-src * data:; style-src * 'unsafe-inline'; script-src * 'unsafe-inline' 'unsafe-eval'">
    <script src="components/loader.js"></script>
    <link rel="stylesheet" href="components/loader.css">
    <link rel="stylesheet" href="css/style.css">
    <script>
        // PhoneGap event handler
        document.addEventListener("deviceready", onDeviceReady, false);
        function onDeviceReady() {
            // プッシュ通知受信時のコールバックを登録する
            window.NCMB.monaca.setHandler
            (
                function(jsonData){
                    // 送信時に指定したJSONが引数として渡される 
                    alert("callback :::" + JSON.stringify(jsonData));
                }
            );           // console.log("PhoneGap is ready");
            // デバイストークンを取得してinstallation登録が行われる
            // ※ aplication_key,client_keyはニフティクラウドmobile backendから発行されたkey
            // ※ sender_idは【GCMとの連携に必要な準備】で作成したProjectのProject Number
            window.NCMB.monaca.setDeviceToken(
                 "10e48b9983c3545ff54c06951780fc44a7c917be90ab46ea266d3837f5e07e8e",
                 "1289fa258fd6370b22da91587cdd5276328e26a1909c53067ac6eddf8c229b42",
                 "#####sender_id#####" 
            );
        }
    </script>
</head>
<body>

    <h1>HelloWorld!</h1>
    <a class="button--large" href="phonegap-demo.html">Start Demo (MonacaPush)</a>
    <h3>MonacaPush06 v1.0.6</h3>
    
</body>
</html>
